# Application Blueprint: v0.5.0 (Operational Layer)

**Series Code**: `ARC01-OPER-01` **Status**: `Archived` (Released)

> **Spec Alignment:** This blueprint implements the **Student Progress Monitoring** requirements
> defined in the **[Internara Specs](../../internara-specs.md)** (Section 2). It provides the
> foundation for "Systematic tracking of student progress."

---

## 1. Core Problem Statement

We have the structure (Schools, Users), but no activity tracking. There is no mechanism to record
"what happened today" (Attendance, Journals) or to scope data by Academic Year.

**Goal**: Implement high-frequency tracking systems and data scoping.

---

## 2. Architectural Impact

### 2.1 Domain: Operational Tracking

- **New Modules**: `Journal`, `Attendance`.
- **Data Layer**:
    - `journal_entries` table (UUID Primary Key).
    - `attendance_logs` table (UUID Primary Key).
    - **No Physical FKs**: References to `User` table use indexed UUID columns.

### 2.2 Domain: Data Scoping

- **Concern**: `HasAcademicYear`.
- **Logic**: Automatic injection of `setting('active_academic_year')` into operational records.

---

## 3. UI/UX Strategy

- **Mobile-First:**
    - "Clock In/Out" button must be prominent on mobile dashboards.
    - Journal entry form must support mobile photo uploads (Camera integration).
- **Multi-Language (i11n):**
    - Status labels (Present, Late, Absent) must be localized.

---

## 4. Contract Definitions

| Contract            | Owner Module | Consumer                | Purpose                                             |
| :------------------ | :----------- | :---------------------- | :-------------------------------------------------- |
| `AcademicYearScope` | `Core`       | `Journal`, `Attendance` | Provides the currently active Global Academic Year. |

---

## 5. Exit Criteria

- [x] **Immutable History**: Approved journals cannot be edited (Spec Requirement: Integrity).
- [x] **Cohort Isolation**: Data queries automatically filter by the active academic year.
- [x] **Secure Media**: Attachments stored on private disks with Signed URLs.
- [x] **Spec Verification**: Tracking features match "Student Progress Monitoring" requirements.

---

## 6. vNext Roadmap (v0.6.0)

- **Assessment Engine**: Grading and Certification.
- **Workspaces**: Decomposing the Dashboard.
