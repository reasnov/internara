# Application Blueprint: v0.7.0 (Administrative Orchestration)

**Series Code**: `ARC01-ORCH-01` **Status**: `Released`

> **Spec Alignment:** This blueprint implements the **Administrative Management** requirements
> defined in the **[Internara Specs](../../internara-specs.md)** (Section 1). It focuses on
> "Automated Requirement Verification" and centralized administrative control.

---

## 1. Core Problem Statement

Admins rely on manual verification for internships and assessments, leading to bottlenecks and
errors. There is no automated enforcement of prerequisites (e.g., "Must upload Parent Permission
Letter").

**Goal**: Transform Internara into an "Active Orchestrator" that enforces administrative rules
automatically.

---

## 2. Architectural Impact

### 2.1 Domain: Requirements Engine (`modules/Internship`)

- **New Logic**: `InternshipRequirement` validation engine.
- **Data Layer**:
    - `internship_requirements` table (UUID Primary Key).
    - `requirement_submissions` table (UUID Primary Key).
- **Settings**: Default requirements for new academic years managed via `setting()`.

### 2.2 Domain: Automated Grading (`modules/Assessment`)

- **Integration**: Pulls compliance data (Attendance % / Journal Count) from `Attendance` and
  `Journal` modules.
- **Mechanism**: Service-to-Service communication via **Contracts**.

### 2.3 Infrastructure: System Visibility

- **Global Notification Bridge**: Standardized feedback (Toasts) across all modules.

---

## 3. UI/UX Strategy

- **Mobile-First:**
    - Requirement submission forms must be fully responsive for students on mobile.
    - Admin verification queues must support "Card View" on small screens.
- **Multi-Language (i11n):**
    - All requirement descriptions and rejection reasons must be localized.
- **Role Access:**
    - **Staff**: Manage requirement definitions.
    - **Student**: View and submit requirements.

---

## 4. Contract Definitions

| Contract               | Owner Module   | Consumer      | Purpose                                                |
| :--------------------- | :------------- | :------------ | :----------------------------------------------------- |
| `RequirementValidator` | `Internship`   | `Self`        | Validates different requirement types (File, Boolean). |
| `ComplianceAggregator` | `Assessment`   | `Attendance`  | Requests participation metrics for auto-grading.       |
| `Notifier`             | `Notification` | `Shared`, All | Decouples business logic from UI notifications.        |

---

## 5. Exit Criteria

- [x] **Dynamic Prerequisites**: Requirement Manager UI implemented and verified against Specs.
- [x] **Auto-Grading**: Final grades automatically calculate attendance weights.
- [x] **Unified Stakeholder CRUD**: Role-specific profile management (NISN/NIP) implemented.
- [x] **Spec Verification**: Validated "Administrative Management" workflow.

---

## 6. vNext Roadmap (v0.8.0)

- **Reporting Engine**: Aggregated PDF analytics.
- **Placement History**: Traceable logs for student rotations.
