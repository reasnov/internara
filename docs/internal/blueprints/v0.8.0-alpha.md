# Application Blueprint: v0.8.0 (Reporting & Intelligence)

**Series Code**: `ARC01-INTEL-01` **Status**: `Active`

> **Spec Alignment:** This blueprint implements the **Mentoring and Evaluation** requirements 
> defined in the **[Internara Specs](../../internara-specs.md)** (Section 3). It specifically 
> addresses the need for "Competency Achievement Reports" and visualization of learning outcomes.

---

## 1. Core Problem Statement

Current stakeholders (Principals, Industry Partners) lack aggregated insights. While individual 
data tracking exists, there is no high-level synthesis or reporting engine. Additionally, placement 
history is not traceable, making it difficult to audit student movements.

**Goal**: Transform Internara into an "Intelligence Platform" that provides actionable reports 
and maintains a complete audit trail of student placements.

---

## 2. Architectural Impact

### 2.1 Domain: Reporting Engine (`modules/Report`)
- **New Module**: `Report` module dedicated to asynchronous PDF generation.
- **Isolation**: Must consume data via **Contracts** (`ExportableDataProvider`). No direct SQL joins.
- **Performance**: High-volume reports (e.g., full institution export) must use background queues.

### 2.2 Domain: Placement Lifecycle (`modules/Internship`)
- **Feature**: Placement History Log.
- **Data Layer**:
    - `internship_placement_history` table (UUID Primary Key).
    - No physical foreign keys to other modules; usage of indexed UUIDs.
- **Logic**: Maintain a single "Active Placement" on the registration record while logging all transitions.

### 2.3 Settings Management
- **Headers & Logos**: Report templates must retrieve institutional branding via `setting('brand_logo')` and `setting('brand_name')`.

---

## 3. UI/UX Strategy

- **Mobile-First:**
    - Analytical dashboards must use responsive grid layouts (stacking on mobile).
    - Reports are generated asynchronously; users receive a **Notification** (Toast) when ready.
- **Multi-Language (i11n):**
    - All report templates must support both **Indonesian** and **English** outputs.
    - Dashboard labels must be localized.
- **Role Access:**
    - **Instructor**: Class-level reporting.
    - **Staff**: Institutional analytics.
    - **Industry Supervisor**: Partner-specific engagement metrics.

---

## 4. Contract Definitions

| Contract                 | Owner Module   | Consumer | Purpose                                                |
| :----------------------- | :------------- | :------- | :----------------------------------------------------- |
| `ExportableDataProvider` | `Internship`   | `Report` | Interface for modules to feed data into PDF templates. |
| `PlacementLogger`        | `Internship`   | `Self`   | Records transitions in the placement lifecycle.        |
| `AnalyticsAggregator`    | `Core`         | `Admin`  | Provides pre-aggregated institutional metrics.         |

---

## 5. Exit Criteria

- [ ] **Class-Level Reporting**: Instructors can generate single PDF reports for entire classes.
- [ ] **Partner Analytics**: Engagement metrics (feedback scores) per Industry Partner are visible.
- [ ] **Traceability**: System logs every placement change with reasoning.
- [ ] **Spec Verification**: Reports match the "Competency Achievement" format required by Specs.
- [ ] **Quality Gates**: 100% Test Pass Rate in `Report` module; Static Analysis Clean.

---

## 6. vNext Roadmap (v0.9.0: System Initialization)

- **CLI Installation**: Automated `php artisan app:install`.
- **Setup Wizard**: Web-based configuration flow.
- **Mobile-First Journals**: Optimization of daily log interface for on-site usage.
