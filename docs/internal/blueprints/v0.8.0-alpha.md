# Application Blueprint: v0.8.0 (Reporting & Intelligence)

**Series Code**: `ARC01-INTEL-01`
**Status**: `Active`

---

## 1. Core Problem Statement

While v0.7.0 successfully automated data collection and basic compliance, the system currently lacks **high-level analytical synthesis**. Stakeholders (Principals, Department Heads, and Industry Partners) need aggregated reports rather than raw data views. 

Additionally, while the project adheres to the official government standard of **One-Student-One-Placement**, there is a need for better **Traceability** if a studentâ€™s placement changes or if they participate in sequential programs.

**Goal**: Transform Internara into an "Intelligence Platform" that provides complex reporting while maintaining strict compliance with official one-student-one-placement PKL standards.

---

## 2. Architectural Impact

### 2.1 Domain: Aggregated Reporting Engine (`modules/Report`)
*   **New Module**: A dedicated `Report` module to handle asynchronous PDF generation.
*   **Isolation Rule**: The `Report` module MUST NOT query other modules' tables directly. It will consume data via **Data Providers** defined in source modules.
*   **Performance**: All mass reporting (e.g., full class reports) must be handled via **Background Jobs**.

### 2.2 Domain: Placement Lifecycle Tracking
*   **Feature**: Implementation of a **Placement History** log.
*   **Core Logic**: Retain the `placement_id` on the main registration record as the authoritative active placement (Official Standard).
*   **Extension**: Introduce an `internship_placement_history` table to automatically log whenever a placement is assigned, changed, or completed.
*   **Impact**: Supports the official model while providing optional "Rotational" visibility for institutions that require it.

### 2.3 UI: Analytical Dashboards
*   **Feature**: Visual data summaries focused on **"At-Risk" identification**.
*   **Logic**: Highlighting students with low engagement metrics relative to their specific placement requirements.

---

## 3. Contract Definitions

| Contract | Owner Module | Consumer | Purpose |
| :--- | :--- | :--- | :--- |
| `ExportableDataProvider` | `Internship`, `Attendance` | `Report` | Standard interface for modules to provide structured datasets for PDF rendering. |
| `PlacementLogger` | `Internship` | `Internship` | Internal service to record placement transitions into the history log. |
| `AnalyticsAggregator` | `Core` | `Admin` | Provides pre-aggregated institutional metrics (e.g. Total Active Interns, Partner Fill Rate). |

---

## 4. Exit Criteria

The v0.8.0 series is considered complete when:

- [x] **Class-Level Reporting**: Teachers can generate a single PDF report for their entire class in one click.
- [ ] **Partner Analytics**: Admins can view engagement reports (responsiveness, feedback scores) per Industry Partner.
- [ ] **Traceable Placements**: The system logs every placement change while maintaining a single active placement for the student.
- [x] **Queue Safety**: The system handles large report generation (100+ pages) asynchronously without timeouts.

---

## 5. vNext Roadmap (v0.9.0: System Initialization & Setup)

*   **CLI Installation**: `php artisan app:install` command to automate key generation, migrations, and secure Super Admin registration.
*   **Self-Destructing Setup Wizard**: A temporary Web Setup flow for initial School and Academic Year configuration.
*   **Security Tunnel**: Protection of the installation process via one-time CLI tokens and automated module disabling (Kill Switch) post-setup.
*   **Mobile-First Journals**: Transitioning student daily logs to a mobile-optimized interface.
