# Application Blueprint: v0.8.0 (Reporting & Intelligence)

**Series Code**: `ARC01-INTEL-01` **Status**: `Active`

> **Spec Alignment:** This blueprint implements the **Mentoring and Evaluation** requirements
> defined in the **[Internara Specs](../../internara-specs.md)** (Section 3). It specifically
> addresses the need for "Competency Achievement Reports" and visualization of learning outcomes.

---

## 1. Version Goals and Scopes (Core Problem Statement)

**Purpose**: Transform Internara into an "Intelligence Platform" that provides actionable reports
and maintains a complete audit trail of student placements.

**Objectives**:

- Provide aggregated insights for Principals and Industry Partners.
- Ensure transparency and traceability in student internship journeys.

**Scope**: Current stakeholders lack aggregated insights. While individual data tracking exists,
there is no high-level synthesis or reporting engine. Additionally, placement history is not
traceable, making it difficult to audit student movements across partners.

---

## 2. Functional Specifications

**Feature Set**:

- **Reporting Engine**: Asynchronous PDF generation for institutional and class-level metrics.
- **Placement History**: Chronological log of student reassignments with reasoning.
- **Analytical Dashboard**: Visual synthesis of student engagement, at-risk identifiers, and partner
  metrics.

**User Stories**:

- As an **Instructor**, I want to export a class-wide competency report so that I can evaluate
  student progress collectively.
- As a **Staff**, I want to see a student's placement history so that I can audit why they were
  reassigned to different partners.
- As an **Admin**, I want to identify "At-Risk" students automatically based on low activity logs to
  provide timely intervention.

---

## 3. Technical Architecture (Architectural Impact)

**Modules**:

- **Report**: New module dedicated to PDF generation and report history management.
- **Internship**: Enhanced to include the placement logging logic and history tracking.
- **Core**: Aggregator services for synthesizing cross-module data into dashboard metrics.

**Data Layer**:

- **History Tracking**: `internship_placement_history` table (UUID-based).
- **Isolation**: Cross-module data retrieval strictly via `ExportableDataProvider` contracts.

**Settings**:

- Report templates retrieve institutional branding via `setting('brand_logo')` and
  `setting('brand_name')`.

---

## 4. UX/UI Design Specifications (UI/UX Strategy)

**Design Philosophy**: Data-driven visibility with high-performance responsiveness.

**User Flow**:

1. User navigates to the "Reports" or "Analytics" section.
2. User selects desired filters (e.g., Academic Year, Class, Report Type).
3. User triggers report generation.
4. System queues the generation and displays a confirmation.
5. User receives a toast notification once the report is ready.
6. User downloads the completed PDF from the "Report History" list.

**Mobile-First**:

- Dashboards use responsive grid layouts that stack on small screens.
- Reports are generated asynchronously to prevent blocking mobile UI interactions.

**Multi-Language**:

- All report templates and dashboard labels are localized in **Indonesian** and **English**.

---

## 5. Success Metrics (KPIs)

- **Reporting Efficiency**: 100% of PDF reports generated in the background without UI hangs.
- **Audit Coverage**: 100% of student placement transitions recorded with valid reasoning.
- **Intervention Rate**: Admins can identify at-risk students within 2 clicks from the dashboard.

---

## 6. Quality Assurance (QA) Criteria (Exit Criteria)

**Acceptance Criteria**:

- [ ] **Class-Level Reporting**: Successful generation of multi-student competency summaries.
- [ ] **Traceability**: Audit log correctly records time, user, and reason for every placement
      change.

**Testing Protocols**:

- [ ] 100% Test Pass Rate in `Report` and `Internship` modules.
- [ ] Verification of PDF layout integrity across small and large datasets.

**Quality Gates**:

- [ ] **Spec Verification**: Reports match the "Competency Achievement" format required by Specs.
- [ ] Static Analysis Clean (`pint`, `lint`).

---

## 7. vNext Roadmap (v0.9.0: System Initialization)

- **CLI Installation**: Automated `php artisan app:install`.
- **Setup Wizard**: Web-based configuration flow for branding and admin setup.
- **Mobile-First Journals**: Optimization of the daily log interface for on-site usage.
