# Application Blueprint: v0.9.0 (System Initialization & Mobility)

**Series Code**: `ARC01-BOOT-01` **Status**: `Planned`

> **Spec Alignment:** This blueprint implements the **Platform and Technology** requirements
> (Section 5) and **Administrative Management** (Section 1) of the
> **[Internara Specs](../../internara-specs.md)**. It focuses on reducing deployment friction and
> enhancing "on-site" data integrity.

---

## 1. Core Problem Statement

Deploying Internara currently requires manual CLI steps (migrations, seeding, env configuration)
which is prone to human error. Additionally, while Journals exist, they lack **Location
Verification**, making it difficult to prove that students are actually "on-site" as required by the
Monitoring goals of the Specs.

**Goal**: Automate system initialization and implement "Location-Aware" mobile journaling.

---

## 2. Architectural Impact

### 2.1 Infrastructure: Automated Installation (`modules/Setup`)

- **CLI Tool**: `php artisan app:install` command to automate:
    - Environment validation.
    - Database & Migration execution.
    - Core & Shared Seeding.
    - Storage symlinking.
- **Web Setup Wizard**: A first-run middleware-protected interface for:
    - Institutional Branding (`brand_name`, `brand_logo`).
    - Initial Administrator account creation.
    - SMTP & System configuration.

### 2.2 Domain: Location-Aware Journals (`modules/Journal`)

- **Feature**: On-site Verification.
- **Integration**: Amazon Location Service (Reverse Geocoding) to transform coordinates into
  readable addresses on journal entries.
- **Data Layer**:
    - `latitude`, `longitude` columns added to `journal_entries`.
    - `is_verified_onsite` boolean flag.

### 2.3 UI/UX Strategy: Mobile Speed-Log

- **Mobile-First**:
    - **One-Tap Journaling**: Simplified interface for quick text/photo entry while in the field.
    - **Auto-Location**: Implicit capturing of GPS coordinates upon submission (with user
      permission).
- **Multi-Language (i11n)**:
    - Setup wizard steps must be available in ID and EN.

---

## 3. Contract Definitions

| Contract             | Owner Module | Consumer  | Purpose                                                                        |
| :------------------- | :----------- | :-------- | :----------------------------------------------------------------------------- |
| `InstallerService`   | `Setup`      | `CLI/Web` | Orchestrates the technical installation steps.                                 |
| `GeoLocationService` | `Shared`     | `Journal` | Interface for Reverse Geocoding and distance calculation (On-site validation). |

---

## 4. Exit Criteria

- [ ] **Zero-Config Install**: `app:install` successfully bootstraps a fresh environment.
- [ ] **Wizard Completion**: Institutional branding correctly persists to `setting()`.
- [ ] **Verified Journals**: Journal entries correctly store coordinates and resolve addresses via
      AWS.
- [ ] **Spec Verification**: Meets "Integrated platform for managing practical work systematically."
- [ ] **Quality Gates**: 100% Test Pass Rate; Static Analysis Clean.

---

## 5. vNext Roadmap (v0.10.0: Integrative Excellence & Competency Mastery)

- **Competency Mapping**: Linking journals to curriculum rubrics.
- **Mentoring Dialogue**: Formal feedback logs for Instructors/Mentors.
- **Schedule Planning**: Administrative control over internship timelines.
- **Feasibility Surveys**: In-app feedback for project evaluation.
