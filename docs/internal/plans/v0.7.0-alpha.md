# Engineering Plan: v0.7.0 (Administrative Orchestration)

**Series Code**: `ARC01-ORCH-01` **Status**: `Active`

---

## 1. Core Problem Statement

While basic tracking and role-based workspaces (v0.6.0) are functional, the system lacks
**administrative leverage**. Admins currently rely on manual verification for internships,
assessments, and operational monitoring. There is no automated enforcement of prerequisites, nor is
there high-level visibility into system health or bulk operations.

**Goal**: This series transforms Internara from a "Passive Tracker" to an "Active Orchestrator" that
enforces rules and provides operational intelligence.

---

## 2. Architectural Impact

### 2.1 Domain Expansion: Requirements & Validation

- **New Domain Logic**: `InternshipRequirement` validation engine.
- **Scope**: Abstracting "Conditions" (Documents, Skills, Boolean checks) into a polymorphic or
  driver-based validation layer within the `Internship` module.

### 2.2 Integration: Automated Grading Bridge

- **Cross-Module Aggregation**: The `Assessment` module must now consume data from `Attendance` and
  `Journal` without hard coupling.
- **Mechanism**: Service-to-Service communication via Contracts to pull "Compliance Scores" (e.g.,
  Attendance Rate).

### 2.3 Infrastructure: System Visibility

- **Global Notification Bridge**: Standardizing feedback via `mary-toast` across all modules (driven
  by `AppException` or `DomainEvents`).
- **Batch Operations**: Introducing a monitoring interface for background jobs (Exports, ZIP
  generation).

---

## 3. Contract Definitions

| Contract               | Owner Module | Consumer                | Purpose                                                                              |
| :--------------------- | :----------- | :---------------------- | :----------------------------------------------------------------------------------- |
| `RequirementValidator` | `Internship` | `Internship`            | Standardizes how different requirement types (File, Skill) are verified.             |
| `ComplianceAggregator` | `Assessment` | `Attendance`, `Journal` | Allows the grading engine to request participation metrics from operational modules. |
| `Notifier`             | `Notification` | `Shared`, All           | Decouples business logic from specific UI notification implementations (Toast).      |

---

## 4. Exit Criteria

The v0.7.0 series is considered complete when:

- [x] **Dynamic Prerequisites**: Backend logic and Requirement Manager UI are implemented. _Wait for
      final UI verification across all roles._
- [x] **Auto-Grading**: Final grades automatically factor in attendance and journals (40/40/20
      weight).
- [x] **Unified Stakeholder CRUD**: Enhanced `UserManager` to support role-specific profile fields
      (NISN/NIP) dynamically.
- [x] **JIT Mentorship**: Implementation of "Assign or Create" pattern in `PlacementManager` is
      complete.
- [x] **Operational Dashboard**: Administrative `JobMonitor` for queue management is implemented.

---

## 5. vNext Roadmap (v0.8.0)

- **Reporting Engine**: Formalizing the `Report` module for complex, aggregated PDF analytics.
- **Flexible Assignments**: decoupling strict "One-Internship-Per-Period" rules if needed.
- **External API**: Potential need for external partners to push internship offers.
