# Overview: Version v0.2.x-alpha (Core & Shared Systems)

## 1. Version Details

-   **Name**: `v0.2.x-alpha`
-   **Series Code**: `ARC01-CORE`
-   **Status**: `In Progress`
-   **Description**: This version focuses on building the essential "Shared" utilities and the "Permission" (RBAC) system. These modules provide the cross-cutting functionality required by all future domain modules.

---

## 2. Goals & Architectural Philosophy

The objective of `v0.2.x-alpha` is to transition from the skeleton setup to a functional core. We aim to provide a library of reusable utilities and a robust security layer that ensures data integrity and controlled access.

### Problem Keypoints

-   **Duplicate Utility Logic:** Without a shared module, developers reinvent helper functions and base services.
-   **Fragile Security:** Implementing RBAC manually in every module is error-prone.
-   **Inconsistent Data Handling:** Standardizing how models and services interact with common traits (e.g., status tracking, logging).

### Architectural Pillars

-   **Shared-First Development:** Business-agnostic logic must reside in the `Shared` module.
-   **RBAC (Role-Based Access Control):** Permissions are managed centrally but enforced locally within modules.
-   **Service Extensibility:** Enhancing the `EloquentQuery` base service for more advanced querying and orchestration.

---

## 3. System Keystones & Scope

### System Keystones

#### Keystone 1: Custom Module Generators

To ensure the modular monolith maintains a consistent structure, we've extended the Artisan command suite with specialized generators.

-   **Goal:** To automate the creation of classes, interfaces, and traits while respecting the project's strict namespace conventions (omitting `src`).
-   **Implementation:**
    -   **Approach:** Created `ModuleMakeClassCommand`, `ModuleMakeInterfaceCommand`, and `ModuleMakeTraitCommand` in the `Core` module. These utilize a shared `HandlesModuleMakeGenerator` trait for consistent path and namespace resolution.
    -   **Analysis Reports:** Verified that generated files are placed in the correct subdirectories (e.g., `src/Services`, `src/Contracts`) and use the correct PSR-4 namespaces.
-   **Developer Impact:** Reduces manual directory creation and namespace fixing, allowing developers to focus on logic rather than boilerplate.

### Scope of Work (The Development Plan)

The following tasks constitute the detailed execution plan for this version.

#### 3.1. The Shared Module (Utilities)

-   [x] **Standardized Services:** Finalize and document the `EloquentQuery` base service patterns.
-   [x] **Common Traits:** Implement shared traits for UUID handling, status management, and common Eloquent behaviors.
-   [x] **Global Helpers:** Centralize non-business specific PHP helpers.
-   [x] **Base Providers:** Refine `ManagesModuleProvider` for even easier module bootstrapping.

#### 3.2. The Permission Module (RBAC)

-   [x] **RBAC Infrastructure:** Fully integrate `spatie/laravel-permission` within the modular context.
-   [x] **Core Seeders:** Implement standard roles (`super-admin`, `admin`, `user`) and foundational permissions.
-   [x] **Policy Patterns:** Establish the convention for module-specific policies that check for centralized permissions.
-   [ ] **UI Integration:** Create shared Livewire components for managing or displaying roles/permissions (if applicable).

#### 3.3. The Core Module (Development Tooling)

-   [x] **Custom Generators:** Implement `module:make-class`, `module:make-interface`, and `module:make-trait` commands.
-   [x] **Standardized Generator Logic:** Extract shared generator logic into the `HandlesModuleMakeGenerator` trait.

#### 3.4. The Exception Module Enhancement

-   [ ] **Global Handler:** Ensure the `HandlesAppException` trait is refined and adopted across all new services.
-   [ ] **Standard Translation Keys:** Establish a library of shared exception messages in the `Shared` or `Exception` module.

---

## 4. Quality Assurance & Roadmap

### 4.1. Verification Checklist

-   [ ] **Shared Utility Test:** Verify that common traits work across different modules without coupling.
-   [ ] **RBAC Enforcement Test:** Verify that `Gate` and `Policy` correctly restrict access based on the `Permission` module's data.
-   [ ] **Zero-App Logic Check:** Ensure no business logic is leaking into the `app/` directory.

### 4.2. Roadmap & Next Steps

Once `v0.2.x-alpha` is stable, development will proceed to `v0.3.x-alpha`, focusing on:

-   Implementation of the **User** management system.
-   Implementation of the **Profile** and **Auth** refinements.

---

**Navigation**

[‚Üê Previous: v0.1.x-alpha (Initiation)](v0.1.x-alpha.md)
